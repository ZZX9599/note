### 索引分类

**在MySQL数据库，将索引的具体类型主要分为以下几类：主键索引、唯一索引、常规索引、全文索引。**



![QQ截图20220506210705](E:\笔记整理\Mysql\图片\QQ截图20220506210705.png)





#### **聚集索引&二级索引 **

**而在在InnoDB存储引擎中，根据索引的存储形式，又可以分为以下两种：**



![QQ截图20220506210810](E:\笔记整理\Mysql\图片\QQ截图20220506210810.png)



**聚集索引选取规则: **

**1:如果存在主键，主键索引就是聚集索引。**

**2:如果不存在主键，将使用第一个唯一（UNIQUE）索引作为聚集索引。 **

**3:如果表没有主键，或没有合适的唯一索引，则InnoDB会自动生成一个rowid作为隐藏的聚集索 引。**





**聚集索引和二级索引的具体结构如下：**





![QQ截图20220506210936](E:\笔记整理\Mysql\图片\QQ截图20220506210936.png)



**聚集索引的叶子节点下挂的是这一行的数据 **

**二级索引的叶子节点下挂的是该字段值对应的主键值。**





**接下来，我们来分析一下，当我们执行如下的SQL语句时，具体的查找过程是什么样子的。**

![QQ截图20220506211048](E:\笔记整理\Mysql\图片\QQ截图20220506211048.png)



**因为name设置了索引，所以会走索引，是二级索引，找到主键，然后回表查询找到整个数据**





**思考题： InnoDB主键索引的B+tree高度为多高呢?**





![QQ截图20220506211246](E:\笔记整理\Mysql\图片\QQ截图20220506211246.png)