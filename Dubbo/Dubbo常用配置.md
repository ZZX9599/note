### Dubbo常用配置



**配置原则：**

**在服务提供者配置访问参数。因为服务提供者更了解服务的各种参数**



**关闭检查：**

**dubbo 缺省会在启动时检查依赖的服务是否可用，不可用时会抛出异常，阻止 Spring 初始化完成**

**以便上线时，能及早发现问题，默认 check=true。通过 check="false"关闭检查**

**比如，测试时，有些服务不关心，或者出现了循环依赖，必须有一方先启动**

**例 1：关闭某个服务的启动时检查** 

**例 2：关闭注册中心启动时检查 默认启动服务时检查注册中心存在并已运行。注册中心不启动会报错。**



**一般在开发的时候，设置为false，项目上线设置为true**



**超时时间**

**由于网络或服务端不可靠，会导致调用出现一种不确定的中间状态（超时）**

**为了避免超时 导致客户端资源（线程）挂起耗尽，必须设置超时时间**

**提供者消费者都有，一般在提供者里面声明**

```xml
<!--暴露服务-->
<dubbo:service interface="com.zzx.service.UserService" 
               ref="userServiceImpl01" version="1.0.0" timeout="18000"/>
```



**版本号**

**每个接口都应定义版本号，为后续不兼容升级提供可能。**

**当一个接口有不同的实现，项目早 期使用的一个实现类， 之后创建接口的新的实现类**

**区分不同的接口实现使用 version。 特别是项目需要把早期接口的实现全部换位新的实现类**

**也需要使用 version. 可以用版本号从早期的接口实现过渡到新的接口实现，版本号不同的服务相互间不引用**

**可以按照以下的步骤进行版本迁移：** 

**在低压力时间段，先升级一半提供者为新版本** 

**再将所有消费者升级为新版本 然后将剩下的一半提供者升级为新版本**