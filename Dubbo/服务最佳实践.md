### 服务最佳实践

**1：分包：建议将服务接口、服务模型、服务异常等均放在公共包中**

**2：粒度：服务接口尽可能大粒度，每个服务方法应代表一个功能，而不是某功能的一个步骤**

**否则将面临分布式事务问题，Dubbo 暂未提供分布式事务支持**

**服务接口建议以业务场景为单位划分，并对相近业务做抽象，防止接口数量爆炸。**

**不建议使用过于抽象的通用接口，如：Map query(Map)**

**这样的接口没有明确语义， 会给后期维护带来不便。**

**3：版本：每个接口都应定义版本号，为后续不兼容升级提供可能**

**如：dubbo:service interface="com.xxx.XxxService" version="1.0**

**建议使用两位版本号，要变更服务版本。先升级一半提供者为新版本，**

**再将消费者全部升为新版本，然后将剩下的一半提供者升为新版本。**



**建议分为三个项目：官方推荐的方式**

**1：实体bean和业务接口存放到接口工程里面**

**2：提供者工程**

**3：消费者工程**



**消费者工程和提供者工程都要添加接口工程**