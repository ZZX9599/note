### JS和Long精度问题

**js只能精确long类型的前16位数，雪花算法的是19位**



**本来该是1520691245251317762**

**实际上是1520691245251317800**



**前端js对Long类型支持的精度不够，导致后端使用的Long传到前端丢失精度，比如现在分布式id生成算法“雪花算法”在使用中就会出现问题。**



**解决思路：服务端发送json数据的时候，把这些特别长的数字转化成String发给前端**



**1、后端的Long类型的id转用String存储，不推荐，失去了其Long类型本身的意义。**

**2、在Long类型字段上使用注解标明序列化方式，代码量不大的情况可以考虑**

**3、拓展自己的消息转换器**

