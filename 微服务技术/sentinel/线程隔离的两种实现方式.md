### 线程隔离的两种实现方式



**线程隔离有两种方式实现：**

**•线程池隔离**

**•信号量隔离（Sentinel默认采用）**



#### 线程池方式

![线程池](E:\笔记整理\微服务技术\sentinel\图解\线程池.png)







#### 信号量方式

![计数器](E:\笔记整理\微服务技术\sentinel\图解\计数器.png)



![优缺点](E:\笔记整理\微服务技术\sentinel\图解\优缺点.png)



**网关就是高扇出，就是一个请求，可能调用N多个请求**





#### 使用线程池方式：

**需求：给 OrderService里面的UserClient的查询用户接口设置流控规则**

**线程数不能超过 2。然后利用jemeter测试。**



**线程隔离的两种手段是？**

**•信号量隔离**

**•线程池隔离**



**信号量隔离的特点是？**

**•基于计数器模式，简单，开销小**



**线程池隔离的特点是？**

**•基于线程池模式，有额外开销，但隔离控制更强**