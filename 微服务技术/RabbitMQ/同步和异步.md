### 同步和异步



#### 同步：

![同步存在的问题](E:\笔记整理\微服务技术\图解\同步存在的问题01.png)





![同步存在的问题02](E:\笔记整理\微服务技术\图解\同步存在的问题02.png)



**同步调用的优点：**

**•时效性较强，可以立即得到结果**

**同步调用的问题：**

**耦合度高**

**性能和吞吐能力下降**

**有额外的资源消耗**

**有级联失败问题**







#### 异步：



![异步图解](E:\笔记整理\微服务技术\图解\异步图解.png)



#### 优势一：

![异步优势一](E:\笔记整理\微服务技术\图解\异步优势一.png)

**当产品经理添加新的需求，在支付服务并不需要修改代码，直接写新的业务，在Broker订阅即可**





#### 优势二

![异步优势二](E:\笔记整理\微服务技术\图解\异步优势二.png)

**执行时间不再是50+150+150+150了   只有自己的时间加上发布支付成功事件的时间   50+10**





#### 优势三![异步优势三](E:\笔记整理\微服务技术\图解\异步优势三.png)

**因为没有在支付服务调用仓储服务，同步的话，仓储服务宕机，就会导致支付服务无法进行，随着堆积，也会让支付服务宕机，现在没有直接调用，仓储宕机，跟支付无关**





#### 优势四

![优势四](E:\笔记整理\微服务技术\图解\优势四.png)

**流量削峰，实际上就相当于大坝，对后面的微服务起到了保护作用**



**异步通信的优点：**

**•耦合度低**

**•吞吐量提升**

**•故障隔离**

**•流量削峰**

**异步通信的缺点：**

**•依赖于Broker的可靠性、安全性、吞吐能力**

**•架构复杂了，业务没有明显的流程线，不好追踪管理**

**出错问题不方便排查**

