### 发布订阅模式



**发布订阅模式与之前案例的区别就是允许将同一消息发送给多个消费者**

**实现方式是加入了exchange（交换机）**

**之前是一个消息被一个消费者使用，使用完了就没了**



**之前我们是把消息直接发给队列，现在我们要先发给交换机，再由交换机转发给队列，消息不需要知道有哪些队列**

**注意：如果路由失败，会造成消息丢失，因为路由并不存储消息，只有队列才接收消息**



**常见exchange类型包括：**

**lFanout：广播**

**lDirect：路由**

**lTopic：话题**