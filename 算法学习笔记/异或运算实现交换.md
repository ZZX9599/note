### 异或运算实现交换



```ABAP
补充知识：

按位与运算符（&）
0&0 = 0；1&0 = 0；0&1 = 0；1&1 = 1； 即：两个操作数同为“1”的时候为1

按位或运算符（|）
0|0 = 0；1|0 = 1；0|1 = 1；1|1 = 1； 即：两个操作数中至少有一个为“1”的时候为1

异或运算符（^） 
0 ^ 0 = 0； 0 ^ 1=1； 1 ^ 0=1； 1 ^ 1=0；
即：两个操作数不同的时候为1；
```



**异或：相同为0，不同为1**

**还可以理解为无进位相加：1001^1110=0111**



```ABAP
0^N=N
N^N=0
异或满足交换律和结合律
a^b=b^a
(a^b)^c=a^(b^c)
```



```java
/**
  * 不用额外变量交换两个数
  */
public static void swap(int[] arr,int i,int j){
    arr[i]=arr[i]^arr[j];
    arr[j]=arr[i]^arr[j];
    arr[i]=arr[i]^arr[j];
}
```



**面试题：一个数组中有一种数出现了奇数次，其他数都出现了偶数次，怎么找到这一个数**

```ABAP
假设是a,b,b,c,c,d,d,d,d
准备变量eor=0
直接用eor异或这个数组的每个数，最后的就是这个奇数
偶数的数，就全部为0了，相当于用0来异或这个奇数
```



**进阶：一个数组中有两种数出现了奇数次，其他数都出现了偶数次，怎么找到这两个数**

```ABAP
假设是a,b,b,b,c,c,d,d,d,d
直接用0异或这个数组的每个数，最后的就是eor就是a^b
因为是两种数字，所以a^b!=0
所以a^b总有一位不等于0
假设第一位不等于0
即a的第一位和b的第一位孰不相同的
其他出现偶数次的数字，第一位要么为1，要么为0，偶数次的异或了都是0
准备另外的变量eor~，只异或第一位是1的数【偶数的全部抵消，得到的要么是a要么是b】
再把eor~和eor异或起来，就是另外的数字
```



**提取一个数字二进制最右边的1**

```
直接使用【这个数字】和【这个数字取反加1】与起来
```

