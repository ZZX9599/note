### 集群深入理解

**1：中心化模式【主从模式】**

**2：非中心化模式【没有主从概念】**

**eureka是去中心化模式，强调高可用**



**http://thesecretlivesofdata.com/raft/可以形象查看分布式共识**



#### **中心化模式：**

**当集群中大多数的节点都做出了响应，才会生效**

**节点存在三个状态**

**1：领导状态**

**2：追随状态**

**3：候选状态**



**最开始没有领导者，全部都是普通的，然后他们都可以成为候选状态，当超过多数投票的时候，自己就成为领导**

**者，对整个集群的修改都通过领导者**

**修改数据的时候，领导者先发出消息，得到了过半的回复，才会修改全部的数据**

**选举机制：随即睡眠，先醒来的成为候选状态，然后进行选举，发起投票，得到过半，成为领导者**

**领导者和追随者之间一直存在心跳机制**

**领导者节点宕机了，超过时间没有进行心跳机制，剩下的会重新选举新的领导者**

