## Spring的AOP

**AOP（Aspect Orient Programming），面向切面编程。面向切面编程是从动态角度考虑程 序运行过程。**

**AOP 底层，就是采用动态代理模式实现的。采用了两种代理：JDK 的动态代理，与 CGLIB 的动态代理。**

**AOP 为 Aspect【切面】 Oriented【面向】 Programming【程序】 的缩写，意为：面向切面编程**

**切面一般都是非业务方法**

**可通过运行期动态代理实现程序功能的统一维护的一种技术。AOP 是 Spring 框架中的一个重要内容。**

**利用 AOP 可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低**

**提高程序的可重用性，同时提高了开发的效率。AOP实际上就是把动态代理简化了**

**若不使用 AOP，则会出现代码纠缠，即交叉业务逻辑与主业务逻辑混合在一起。这样， 会使主业务逻辑变的混杂不清。**

**面向切面编程，就是将交叉业务逻辑封装成切面，利用 AOP 容器的功能将切面织入到 主业务逻辑中。所谓交叉业务逻辑是指，通用的、与主业务逻辑无关的代码，如安全检查、 事务、日志、缓存等。**

**例如：转账，在真正转账业务逻辑前后，需要权限控制、日志记录、加载事务、结束事 务等交叉业务逻辑，而这些业务逻辑与主业务逻辑间并无直接关系。但它们的代码量所占比重能达到总代码量的一半甚至还多。它们的存在，不仅产生了大量的“冗余”代码，还大大干扰了主业务逻辑---转账。**

**复习OOP：OOP是面向对象编程**

**学习AOP最重要的是  1：什么可以做切面？  2：切面什么时候执行，在哪个位置执行？**

**切面的一些术语：**

**1：切面（Aspect）就是那些非业务功能，常见安全检查、 事务、日志、缓存**

**2：连接点（JoinPoint）连接业务方法和切面的位置，就是某个类的业务方法**

**3：切入点（Pointcut）切入点指声明的一个或多个连接点的集合。多个业务方法，通过切入点指定一组方法。**

**4：目标对象（Target）给哪个类增加切面，哪个类就是目标对象**

**5：通知（Advice）通知表示切面的执行时间，Advice 也叫增强。上例中的 MyInvocationHandler 就可以理解为是一种通知。换个角度来说，通知定义了增强代码切入到目标代码的时间点，是目标方法执行之前执行，还是之后执行等。通知类型不同，切入时间不同。 切入点定义切入的位置，通知定义切入的时间**

**切面的三个重要要素    1：切面代码    2：切面执行位置    3：切面执行位置**